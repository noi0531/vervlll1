<!DOCTYPE html>
<html lang="ja" x-data="app()" x-init="init()" class="antialiased">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title x-text="state.route==='home' ? data.meta.title : (state.route==='device' ? data.device.meta.title : data.exclusive.meta.title)">Verviii LP</title>
  <meta name="description" content="æ¬¡ä¸–ä»£ã®çµæœã¨åç›ŠåŒ–ã‚’ä¸¡ç«‹ã™ã‚‹ã€ã‚µãƒ­ãƒ³å‘ã‘ãƒ—ãƒ­æ©Ÿå™¨ï¼†å°‚å£²å“ã€‚ç›´è²©ãƒ»å·¥å ´ææºã§é«˜å“è³ªã‚’é©æ­£ä¾¡æ ¼ã§ã€‚" />
  <meta name="theme-color" content="#ffffff" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700;900&family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <style>
    :root{
      --bg:#ffffff; --card:#ffffff; --ink:#0f172a; --muted:#64748b; --line:#e6eef8;
      --accent-from:#7c3aed; --accent-to:#06b6d4; --ring:#c7d2fe;
    }
    [x-cloak]{display:none!important}
    body{background:var(--bg); color:var(--ink); font-family:'Noto Sans JP', system-ui, -apple-system, Segoe UI, Roboto,'Helvetica Neue', Arial}
    .container{max-width:1120px; margin:0 auto; padding:0 1rem}
    .shadow-soft{box-shadow:0 12px 36px rgba(2,6,23,.08)}
    .glass{backdrop-filter: blur(12px); background: rgba(255,255,255,.65)}

    /* ===== INTRO (HOME) ===== */
    .intro{position:fixed; inset:0; z-index:100; display:grid; place-items:center; overflow:hidden; background:
      radial-gradient(1200px 700px at 20% -10%, rgba(124,58,237,.12), transparent 55%),
      radial-gradient(900px 600px at 80% 110%, rgba(6,182,212,.12), transparent 55%),
      #fff}
    .intro__grain::before{content:''; position:absolute; inset:0; pointer-events:none; opacity:.16; mix-blend:multiply; background:url('data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'160\' height=\'160\'><filter id=\'n\'><feTurbulence type=\'fractalNoise\' baseFrequency=\'0.9\' numOctaves=\'3\' stitchTiles=\'stitch\'/></filter><rect width=\'160\' height=\'160\' filter=\'url(%23n)\' opacity=\'0.4\'/></svg>') repeat}
    .intro__ring{position:absolute; inset:-10%; border-radius:40px; background:conic-gradient(from 180deg, rgba(124,58,237,.25), rgba(6,182,212,.25), rgba(124,58,237,.25)); -webkit-mask:radial-gradient(circle at 50% 50%, transparent 45%, black 46%); mask:radial-gradient(circle at 50% 50%, transparent 45%, black 46%); filter:blur(20px); animation:ring 5.2s ease-in-out infinite alternate}
    @keyframes ring{to{transform:rotate(20deg) scale(1.05); filter:blur(24px)}}
    .intro__word{font-family:'Poppins',sans-serif; font-weight:900; font-size:clamp(40px,10vw,120px); letter-spacing:.02em; position:relative; display:inline-block; line-height:1}
    .intro__word--gradient{background:linear-gradient(90deg,var(--accent-from),var(--accent-to)); -webkit-background-clip:text; background-clip:text; color:transparent; filter:drop-shadow(0 8px 28px rgba(124,58,237,.25))}
    .intro__shine{position:absolute; inset:0; background:linear-gradient(120deg, transparent 0%, rgba(255,255,255,.8) 45%, transparent 60%); transform:skewX(-20deg) translateX(-120%); animation:shine 3s .9s ease forwards}
    @keyframes shine{to{transform:skewX(-20deg) translateX(120%)}}
    .intro__letters span{display:inline-block; opacity:0; transform:translateY(18px) scale(.98); animation:letter .7s ease forwards}
    .intro__letters span:nth-child(1){animation-delay:.05s} .intro__letters span:nth-child(2){animation-delay:.12s} .intro__letters span:nth-child(3){animation-delay:.19s} .intro__letters span:nth-child(4){animation-delay:.26s} .intro__letters span:nth-child(5){animation-delay:.33s} .intro__letters span:nth-child(6){animation-delay:.40s} .intro__letters span:nth-child(7){animation-delay:.47s}
    @keyframes letter{to{opacity:1; transform:none}}

    /* ===== HERO ===== */
    .hero{position:relative; height:100vh; overflow:hidden}
    .hero img.bg{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transform:scale(1.06); transition:opacity 1s ease, transform 4.8s ease}
    .hero img.bg.active{opacity:1; transform:scale(1)}
    .hero .scrim{position:absolute; inset:0; background:linear-gradient(180deg, rgba(2,6,23,.35) 0%, rgba(2,6,23,.45) 60%, rgba(2,6,23,.25) 100%)}

    /* Fancy gradient border */
    .g-border{position:relative}
    .g-border::before{content:''; position:absolute; inset:-1px; border-radius:18px; background:linear-gradient(90deg,var(--accent-from),var(--accent-to)); -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite:xor; mask-composite:exclude; padding:1px}

    /* Reveal (scroll in) */
    .reveal{opacity:0; transform:translateY(18px) scale(.98); filter:blur(6px); transition:all .8s cubic-bezier(.2,.65,.2,1)}
    .reveal.in{opacity:1; transform:none; filter:blur(0)}

    /* Marquee */
    @keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
    .marquee{display:flex; gap:16px; animation:marquee 22s linear infinite}
  </style>
</head>

<body>
  <!-- INTRO: HOME -->
  <div x-cloak x-show="state.showIntroHome && state.route==='home'" class="intro intro__grain">
    <div class="intro__ring"></div>
    <div class="text-center">
      <div class="intro__word intro__word--gradient intro__letters">
        <span>V</span><span>e</span><span>r</span><span>v</span><span>i</span><span>i</span><span>i</span>
        <div class="intro__shine"></div>
      </div>
      <p class="mt-2 text-sm text-[var(--muted)]">Initialize design systemâ€¦</p>
    </div>
  </div>

  <!-- INTRO: DEVICE / EXCLUSIVE -->
  <div x-cloak x-show="state.showIntroDevice && state.route==='device'" class="fixed inset-0 z-50 grid place-items-center bg-gradient-to-b from-white to-slate-50">
    <div class="text-center"><img :src="data.device.brand.logo" class="mx-auto w-24 h-24 object-contain" alt="Photomedicell"><p class="mt-4 text-sm text-[var(--muted)]">Photomedicell ãƒšãƒ¼ã‚¸ã‚’æº–å‚™ä¸­â€¦</p></div>
  </div>
  <div x-cloak x-show="state.showIntroEx && state.route==='exclusive'" class="fixed inset-0 z-50 grid place-items-center bg-gradient-to-b from-white to-slate-50">
    <div class="text-center"><img :src="data.exclusive.brand.logo" class="mx-auto w-24 h-24 object-contain" alt="Exclusive"><p class="mt-4 text-sm text-[var(--muted)]">å°‚å£²å“ãƒšãƒ¼ã‚¸ã‚’æº–å‚™ä¸­â€¦</p></div>
  </div>

  <!-- HEADER -->
  <header class="fixed inset-x-0 top-0 z-40 backdrop-blur bg-white/70 border-b">
    <div class="container py-3 flex items-center justify-between">
      <button @click="backHome()" class="flex items-center gap-2" aria-label="ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹">
        <img :src="state.route==='home' ? data.brand.sampleLogoSquare : (state.route==='device' ? data.device.brand.logo : data.exclusive.brand.logo)" class="w-9 h-9 object-contain" alt="logo">
        <span class="hidden md:inline-block font-bold tracking-tight">Verviii</span>
      </button>
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <template x-if="state.route==='home'">
          <div class="flex items-center gap-4">
            <button @click.prevent="scrollToId('equipments')" class="hover:underline">ç¾å®¹æ©Ÿå™¨</button>
            <button @click.prevent="scrollToId('exclusives')" class="hover:underline">å°‚å£²å“</button>
            <button @click.prevent="openLine()" class="hover:underline">LINE</button>
            <button @click.prevent="openContact()" class="hover:underline">å•ã„åˆã‚ã›</button>
          </div>
        </template>
        <template x-if="state.route!=='home'">
          <div class="flex items-center gap-4">
            <button @click.prevent="scrollToId('section-intro')" class="hover:underline">å•†å“ç´¹ä»‹</button>
            <button @click.prevent="scrollToId('reasons')" class="hover:underline">é¸ã°ã‚Œã‚‹ç†ç”±</button>
            <button @click.prevent="scrollToId('sales')" class="hover:underline">å£²ä¸Šå¤‰åŒ–</button>
            <button @click.prevent="scrollToId('records')" class="hover:underline">å°å…¥å®Ÿç¸¾</button>
            <button @click.prevent="scrollToId('services')" class="hover:underline">ãã®ä»–ã‚µãƒ¼ãƒ“ã‚¹</button>
            <button @click.prevent="scrollToId('faq')" class="hover:underline">FAQ</button>
            <button class="px-3 py-1 rounded-full border" @click="backHome()">â† æˆ»ã‚‹</button>
          </div>
        </template>
      </nav>
      <div class="md:hidden flex items-center gap-2">
        <button @click="openContact()" class="p-2 rounded-md hover:bg-slate-100" aria-label="å•ã„åˆã‚ã›">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-18 8v-8a2 2 0 012-2h14a2 2 0 012 2v8"/></svg>
        </button>
        <button @click="state.mobileNav=!state.mobileNav" class="p-2 rounded-md hover:bg-slate-100" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
          <svg x-show="!state.mobileNav" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"/></svg>
          <svg x-show="state.mobileNav" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
    </div>
    <div x-cloak x-show="state.mobileNav" x-transition class="md:hidden border-t bg-white/95">
      <div class="px-4 py-3 space-y-2" x-show="state.route==='home'">
        <button @click.prevent="state.mobileNav=false; scrollToId('equipments')" class="block">ç¾å®¹æ©Ÿå™¨</button>
        <button @click.prevent="state.mobileNav=false; scrollToId('exclusives')" class="block">å°‚å£²å“</button>
        <button @click.prevent="state.mobileNav=false; openLine()" class="block">LINE</button>
        <button @click.prevent="state.mobileNav=false; openContact()" class="block">å•ã„åˆã‚ã›</button>
      </div>
      <div class="px-4 py-3 space-y-2" x-show="state.route!=='home'">
        <button @click.prevent="state.mobileNav=false; scrollToId('section-intro')" class="block">å•†å“ç´¹ä»‹</button>
        <button @click.prevent="state.mobileNav=false; scrollToId('reasons')" class="block">é¸ã°ã‚Œã‚‹ç†ç”±</button>
        <button @click.prevent="state.mobileNav=false; scrollToId('sales')" class="block">å£²ä¸Šå¤‰åŒ–</button>
        <button @click.prevent="state.mobileNav=false; scrollToId('records')" class="block">å°å…¥å®Ÿç¸¾</button>
        <button @click.prevent="state.mobileNav=false; scrollToId('services')" class="block">ãã®ä»–ã‚µãƒ¼ãƒ“ã‚¹</button>
        <button @click.prevent="state.mobileNav=false; scrollToId('faq')" class="block">FAQ</button>
        <button @click.prevent="state.mobileNav=false; backHome()" class="block">â† æˆ»ã‚‹</button>
      </div>
    </div>
  </header>

  <!-- HERO (HOME) -->
  <main class="pt-20">
    <section id="hero" class="hero" x-show="state.route==='home'" x-transition.opacity>
      <template x-for="(src,i) in data.hero.images" :key="i">
        <img :src="src" class="bg" :class="{'active': state.heroIndex===i}" alt="hero">
      </template>
      <div class="scrim"></div>
      <div class="relative z-10 h-full grid place-items-center px-6 text-center text-white">
        <div class="max-w-3xl">
          <img :src="data.brand.sampleLogoWord" alt="Verviii" class="mx-auto w-[520px] max-w-[86%] h-auto mb-6 drop-shadow-xl reveal" :class="{'in':state.revealed}">
          <h1 class="font-[Poppins] text-4xl md:text-6xl leading-tight reveal" :class="{'in':state.revealed}">çµæœã¨åç›Šã‚’ã€æœ€çŸ­ã§ã€‚</h1>
          <p class="mt-3 text-white/90 reveal" :class="{'in':state.revealed}">ç›´è²©Ã—å·¥å ´ææºã§â€œé«˜æ€§èƒ½ã‚’é©æ­£ä¾¡æ ¼â€ã«ã€‚å°å…¥ã‹ã‚‰é‹ç”¨ã¾ã§ãƒ¯ãƒ³ã‚¹ãƒˆãƒƒãƒ—ã§æ”¯æ´ã—ã¾ã™ã€‚</p>
        </div>
      </div>
      <div class="absolute right-4 bottom-6 flex gap-2 z-20">
        <template x-for="(img,i) in data.hero.images" :key="'h-dot'+i">
          <button class="w-3 h-3 rounded-full bg-white/60" :class="{'bg-white': state.heroIndex===i}" @click="state.heroIndex=i"></button>
        </template>
      </div>
    </section>

    <!-- HOME CONTENT -->
    <section class="container py-16" x-show="state.route==='home'">
      <!-- Equipments -->
      <div id="equipments" class="grid md:grid-cols-2 gap-10 items-center mb-16">
        <div class="relative rounded-2xl overflow-hidden bg-[var(--card)] border g-border shadow-soft reveal" :class="{'in':state.revealed}">
          <div class="relative aspect-[4/3]">
            <template x-for="(img,i) in data.equipments.carousel" :key="i">
              <img :src="img" class="absolute inset-0 w-full h-full object-cover transition-opacity duration-700" :style="{opacity: state.eqIndex===i?1:0}">
            </template>
          </div>
          <div class="absolute bottom-3 right-3 flex gap-2">
            <template x-for="(img,i) in data.equipments.carousel" :key="'d'+i">
              <button :class="{'ring-2 ring-white': state.eqIndex===i}" class="w-2.5 h-2.5 rounded-full bg-white/70" @click="state.eqIndex=i"></button>
            </template>
          </div>
        </div>
        <div class="reveal" :class="{'in':state.revealed}">
          <h2 class="text-3xl md:text-4xl font-bold mb-4">ãƒã‚¤ã‚¹ãƒšãƒƒã‚¯ã‹ã¤ãƒ­ãƒ¼ã‚³ã‚¹ãƒˆã§</h2>
          <p class="text-[var(--muted)]">æ¥­å‹™ç”¨è„±æ¯›å™¨ã‚’ã¯ã˜ã‚ã¨ã™ã‚‹ãƒ—ãƒ­æ©Ÿå™¨ã‚’ã€ç›´è²©ãƒ»ä¸€æ°—é€šè²«ã‚µãƒãƒ¼ãƒˆã§ã€‚</p>
          <div class="mt-6 grid gap-4">
            <template x-for="item in data.equipments.items" :key="item.slug">
              <div class="p-4 rounded-xl border bg-white shadow-sm hover:shadow-md transition flex items-center justify-between gap-4">
                <div>
                  <div class="text-sm text-[var(--muted)]" x-text="item.name"></div>
                  <div class="text-xl font-bold" x-text="formatJPY(item.price)"></div>
                </div>
                <button class="px-4 py-2 rounded-full bg-gradient-to-r from-[var(--accent-from)] to-[var(--accent-to)] text-white font-semibold" @click="goDevice(item)">è©³ç´°ã‚’è¦‹ã‚‹</button>
              </div>
            </template>
          </div>
        </div>
      </div>

      <!-- Exclusives -->
      <div id="exclusives" class="grid md:grid-cols-2 gap-10 items-center">
        <div class="order-2 md:order-1 reveal" :class="{'in':state.revealed}">
          <h2 class="text-3xl md:text-4xl font-bold mb-4">è‚Œæµ¸é€ã‚’è¿½æ±‚ã—ãŸå°‚å£²å“ã§</h2>
          <p class="text-[var(--muted)]">æ–½è¡“ã¨ã®ç›¸æ€§ãŒè‰¯ã„æˆåˆ†è¨­è¨ˆã€‚åº—è²©ãƒ»ãƒªãƒ”ãƒ¼ãƒˆã‚’è¦‹æ®ãˆãŸä¾¡æ ¼è¨­è¨ˆã€‚</p>
          <div class="mt-6 grid gap-4">
            <template x-for="p in data.exclusives.items" :key="p.name">
              <div class="p-4 rounded-xl border bg-white shadow-sm hover:shadow-md transition flex items-center justify-between gap-4">
                <div>
                  <div class="text-sm text-[var(--muted)]" x-text="p.name"></div>
                  <div class="text-base" x-text="p.features"></div>
                </div>
                <button class="px-4 py-2 rounded-full bg-gradient-to-r from-[var(--accent-from)] to-[var(--accent-to)] text-white font-semibold" @click="goExclusive(p)">è©³ç´°</button>
              </div>
            </template>
          </div>
        </div>
        <div class="order-1 md:order-2 relative rounded-2xl overflow-hidden bg-[var(--card)] border g-border shadow-soft reveal" :class="{'in':state.revealed}">
          <div class="relative aspect-[4/3]">
            <template x-for="(img,i) in data.exclusives.carousel" :key="i">
              <img :src="img" class="absolute inset-0 w-full h-full object-cover transition-opacity duration-700" :style="{opacity: state.prIndex===i?1:0}">
            </template>
          </div>
          <div class="absolute bottom-3 right-3 flex gap-2">
            <template x-for="(img,i) in data.exclusives.carousel" :key="'p'+i">
              <button :class="{'ring-2 ring-white': state.prIndex===i}" class="w-2.5 h-2.5 rounded-full bg-white/70" @click="state.prIndex=i"></button>
            </template>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- DEVICE page -->
  <main x-show="state.route==='device'" class="bg-slate-50">
    <section id="section-intro" class="relative h-[56vh] md:h-[64vh] overflow-hidden">
      <template x-for="(src,i) in data.device.hero.images" :key="'d-hero-'+i">
        <img :src="src" class="absolute inset-0 w-full h-full object-cover transition-opacity duration-1000" :class="{'opacity-100': state.heroIndex2===i, 'opacity-0': state.heroIndex2!==i}">
      </template>
      <div class="absolute inset-0 bg-gradient-to-b from-black/35 to-black/25"></div>
      <div class="relative z-10 flex items-center justify-center h-full px-4 text-white text-center">
        <div class="max-w-3xl reveal" :class="{'in': state.revealDevice}">
          <img :src="data.device.brand.logo" class="mx-auto w-36 h-36 object-contain mb-4" alt="Photomedicell">
          <h1 class="display text-3xl md:text-5xl font-extrabold">Photomedicell</h1>
          <p class="mt-2 text-white/90">ä½åˆºæ¿€ãƒ»é«˜é€Ÿãƒ»é«˜å‡ºåŠ›ã€‚çµæœã¨å›è»¢ç‡ã‚’ä¸¡ç«‹ã€‚</p>
        </div>
      </div>
    </section>

    <div class="sticky top-0 z-30 border-b bg-white/90 backdrop-blur">
      <div class="container py-3 flex items-center justify-between">
        <nav class="flex gap-4 text-sm">
          <button @click.prevent="scrollToId('section-intro')" class="hover:underline">å•†å“ç´¹ä»‹</button>
          <button @click.prevent="scrollToId('reasons')" class="hover:underline">é¸ã°ã‚Œã‚‹ç†ç”±</button>
          <button @click.prevent="scrollToId('sales')" class="hover:underline">å£²ä¸Šå¤‰åŒ–</button>
          <button @click.prevent="scrollToId('records')" class="hover:underline">å°å…¥å®Ÿç¸¾</button>
          <button @click.prevent="scrollToId('services')" class="hover:underline">ãã®ä»–ã‚µãƒ¼ãƒ“ã‚¹</button>
          <button @click.prevent="scrollToId('faq')" class="hover:underline">FAQ</button>
        </nav>
        <button class="px-3 py-1 rounded-full border" @click="backHome()">â† æˆ»ã‚‹</button>
      </div>
    </div>

    <section class="container py-12">
      <h2 class="text-3xl font-bold mb-6">æ©Ÿå™¨ç´¹ä»‹</h2>
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <template x-for="card in data.device.products" :key="card.name">
          <article class="p-4 rounded-2xl bg-white border shadow-sm hover:shadow-md transition reveal">
            <img :src="card.image" class="w-full h-40 object-cover rounded-xl mb-3" alt="">
            <h3 class="font-bold" x-text="card.name"></h3>
            <div class="text-sm text-[var(--muted)]" x-text="card.tag"></div>
            <div class="mt-2 text-xl font-bold" x-text="formatJPY(card.price)"></div>
            <button class="mt-4 w-full px-3 py-2 rounded-full bg-gradient-to-r from-[var(--accent-from)] to-[var(--accent-to)] text-white">è©³ç´°</button>
          </article>
        </template>
      </div>
    </section>

    <section id="reasons" class="container py-12">
      <div class="rounded-2xl overflow-hidden bg-white border shadow-sm">
        <img :src="data.device.reasons.headerImage" class="w-full h-44 object-cover" alt="">
        <div class="p-6 md:p-8 grid md:grid-cols-3 gap-6">
          <template x-for="r in data.device.reasons.items" :key="r.title">
            <div class="p-5 rounded-xl border" style="border-color:var(--line)">
              <h3 class="font-bold text-lg" x-text="r.title"></h3>
              <p class="text-[var(--muted)] mt-2" x-text="r.body"></p>
            </div>
          </template>
        </div>
      </div>
    </section>

    <section id="sales" class="container py-12">
      <h2 class="text-3xl font-bold mb-2">å°å…¥å¾Œã®å£²ä¸Šå¤‰åŒ–</h2>
      <p class="text-[var(--muted)] mb-6">æ–°ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¿½åŠ ã¨å®¢å˜ä¾¡ä¸Šæ˜‡ã«ã‚ˆã‚Šå£²ä¸Šå¢—åŠ ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰ã€‚</p>
      <div class="p-6 rounded-2xl bg-white border shadow-sm">
        <svg class="w-full h-60" viewBox="0 0 600 240" preserveAspectRatio="none" x-ref="chart"></svg>
        <div class="mt-3 text-xs text-[var(--muted)]">â€»ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã€‚å®Ÿæ•°å€¤ã«å·®ã—æ›¿ãˆå¯èƒ½</div>
      </div>
    </section>

    <section id="records" class="container py-12">
      <h2 class="text-3xl font-bold mb-4">å°å…¥å®Ÿç¸¾</h2>
      <div class="overflow-hidden rounded-2xl bg-white border p-4">
        <div class="marquee">
          <template x-for="c in [...data.device.records, ...data.device.records]" :key="c.company + Math.random()">
            <article class="min-w-[260px] max-w-[320px] border rounded-xl p-4 bg-white">
              <div class="flex items-center gap-3">
                <img :src="c.image" class="w-12 h-12 rounded object-cover" alt="">
                <div><div class="font-bold" x-text="c.company"></div><div class="text-xs text-[var(--muted)]" x-text="c.role"></div></div>
              </div>
              <p class="text-sm mt-3 text-[var(--ink)]/80" x-text="c.comment"></p>
            </article>
          </template>
        </div>
      </div>
    </section>

    <!-- ãã®ä»–ã‚µãƒ¼ãƒ“ã‚¹ -->
    <section id="services" class="container py-12">
      <h2 class="text-3xl font-bold mb-6">ãã®ä»–ã‚µãƒ¼ãƒ“ã‚¹</h2>
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <template x-for="s in data.commonServices" :key="s.title">
          <div class="p-5 rounded-2xl bg-white border shadow-sm hover:shadow-md transition g-border">
            <div class="text-2xl">ğŸ’¡</div>
            <h3 class="font-bold mt-2" x-text="s.title"></h3>
            <p class="text-[var(--muted)] mt-1" x-text="s.desc"></p>
          </div>
        </template>
      </div>
    </section>

    <section id="faq" class="container py-16">
      <h2 class="text-3xl font-bold mb-6 text-center">FAQ</h2>
      <div class="divide-y rounded-2xl overflow-hidden bg-white border shadow-sm">
        <template x-for="(f,i) in data.device.faq" :key="i">
          <div class="p-5">
            <button class="w-full flex items-center justify-between" @click="toggleFaq(i)"><span class="font-bold" x-text="f.q"></span><span class="text-xl" x-text="state.faqIndex===i ? 'âˆ’' : '+'"></span></button>
            <div x-show="state.faqIndex===i" x-transition class="text-[var(--muted)] mt-2" x-text="f.a"></div>
          </div>
        </template>
      </div>
    </section>
  </main>

  <!-- EXCLUSIVE page -->
  <main x-show="state.route==='exclusive'" class="bg-slate-50">
    <section id="section-intro" class="relative h-[56vh] md:h-[64vh] overflow-hidden">
      <template x-for="(src,i) in data.exclusive.hero.images" :key="'e-hero-'+i">
        <img :src="src" class="absolute inset-0 w-full h-full object-cover transition-opacity duration-1000" :class="{'opacity-100': state.heroIndex3===i, 'opacity-0': state.heroIndex3!==i}">
      </template>
      <div class="absolute inset-0 bg-gradient-to-b from-black/35 to-black/25"></div>
      <div class="relative z-10 flex items-center justify-center h-full px-4 text-white text-center">
        <div class="max-w-3xl reveal" :class="{'in': state.revealExclusive}">
          <img :src="data.exclusive.brand.logo" class="mx-auto w-36 h-36 object-contain mb-4" alt="Exclusive">
          <h1 class="display text-3xl md:text-5xl font-extrabold">Exclusive Line</h1>
          <p class="mt-2 text-white/90">è‚Œæµ¸é€ã‚’è¿½æ±‚ã€‚æ–½è¡“ã¨åº—è²©ã®ä¸¡è¼ªã§æˆæœã‚’æœ€å¤§åŒ–ã€‚</p>
        </div>
      </div>
    </section>

    <div class="sticky top-0 z-30 border-b bg-white/90 backdrop-blur">
      <div class="container py-3 flex items-center justify-between">
        <nav class="flex gap-4 text-sm">
          <button @click.prevent="scrollToId('section-intro')" class="hover:underline">å•†å“ç´¹ä»‹</button>
          <button @click.prevent="scrollToId('reasons')" class="hover:underline">é¸ã°ã‚Œã‚‹ç†ç”±</button>
          <button @click.prevent="scrollToId('sales')" class="hover:underline">å£²ä¸Šå¤‰åŒ–</button>
          <button @click.prevent="scrollToId('records')" class="hover:underline">å°å…¥å®Ÿç¸¾</button>
          <button @click.prevent="scrollToId('services')" class="hover:underline">ãã®ä»–ã‚µãƒ¼ãƒ“ã‚¹</button>
          <button @click.prevent="scrollToId('faq')" class="hover:underline">FAQ</button>
        </nav>
        <button class="px-3 py-1 rounded-full border" @click="backHome()">â† æˆ»ã‚‹</button>
      </div>
    </div>

    <section class="container py-12">
      <h2 class="text-3xl font-bold mb-6">å•†å“ç´¹ä»‹</h2>
      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <template x-for="p in data.exclusive.products" :key="p.name">
          <article class="p-4 rounded-2xl bg-white border shadow-sm hover:shadow-md transition reveal">
            <img :src="p.image" class="w-full h-40 object-cover rounded-xl mb-3" alt="">
            <h3 class="font-bold" x-text="p.name"></h3>
            <p class="text-sm text-[var(--muted)]" x-text="p.desc"></p>
          </article>
        </template>
      </div>
    </section>

    <section id="reasons" class="container py-12">
      <div class="rounded-2xl overflow-hidden bg-white border shadow-sm">
        <img :src="data.device.reasons.headerImage" class="w-full h-44 object-cover" alt="">
        <div class="p-6 md:p-8 grid md:grid-cols-3 gap-6">
          <template x-for="r in data.exclusive.reasons" :key="r.title">
            <div class="p-5 rounded-xl border" style="border-color:var(--line)">
              <h3 class="font-bold text-lg" x-text="r.title"></h3>
              <p class="text-[var(--muted)] mt-2" x-text="r.body"></p>
            </div>
          </template>
        </div>
      </div>
    </section>

    <section id="sales" class="container py-12">
      <h2 class="text-3xl font-bold mb-2">å°å…¥å¾Œã®å£²ä¸Šå¤‰åŒ–</h2>
      <p class="text-[var(--muted)] mb-6">åº—è²©å°å…¥ã§å®¢å˜ä¾¡ãƒ»LTV ãŒä¸ŠãŒã£ãŸæƒ³å®šï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰ã€‚</p>
      <div class="p-6 rounded-2xl bg-white border shadow-sm">
        <svg class="w-full h-60" viewBox="0 0 600 240" preserveAspectRatio="none" x-ref="chart2"></svg>
        <div class="mt-3 text-xs text-[var(--muted)]">â€»ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã€‚å®Ÿæ•°å€¤ã«å·®ã—æ›¿ãˆå¯èƒ½</div>
      </div>
    </section>

    <section id="records" class="container py-12">
      <h2 class="text-3xl font-bold mb-4">å°å…¥å®Ÿç¸¾</h2>
      <div class="overflow-hidden rounded-2xl bg-white border p-4">
        <div class="marquee">
          <template x-for="c in [...data.device.records, ...data.device.records]" :key="'ex-'+Math.random()">
            <article class="min-w-[260px] max-w-[320px] border rounded-xl p-4 bg-white">
              <div class="flex items-center gap-3">
                <img :src="c.image" class="w-12 h-12 rounded object-cover" alt="">
                <div><div class="font-bold" x-text="c.company"></div><div class="text-xs text-[var(--muted)]" x-text="c.role"></div></div>
              </div>
              <p class="text-sm mt-3 text-[var(--ink)]/80" x-text="c.comment"></p>
            </article>
          </template>
        </div>
      </div>
    </section>

    <!-- ãã®ä»–ã‚µãƒ¼ãƒ“ã‚¹ -->
    <section id="services" class="container py-12">
      <h2 class="text-3xl font-bold mb-6">ãã®ä»–ã‚µãƒ¼ãƒ“ã‚¹</h2>
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <template x-for="s in data.commonServices" :key="'ex-'+s.title">
          <div class="p-5 rounded-2xl bg-white border shadow-sm hover:shadow-md transition g-border">
            <div class="text-2xl">ğŸ’¡</div>
            <h3 class="font-bold mt-2" x-text="s.title"></h3>
            <p class="text-[var(--muted)] mt-1" x-text="s.desc"></p>
          </div>
        </template>
      </div>
    </section>

    <section id="faq" class="container py-16">
      <h2 class="text-3xl font-bold mb-6 text-center">FAQ</h2>
      <div class="divide-y rounded-2xl overflow-hidden bg-white border shadow-sm">
        <template x-for="(f,i) in data.exclusive.faq" :key="i">
          <div class="p-5">
            <button class="w-full flex items-center justify-between" @click="toggleFaq(i)"><span class="font-bold" x-text="f.q"></span><span class="text-xl" x-text="state.faqIndex===i ? 'âˆ’' : '+'"></span></button>
            <div x-show="state.faqIndex===i" x-transition class="text-[var(--muted)] mt-2" x-text="f.a"></div>
          </div>
        </template>
      </div>
      <div class="text-center py-8"><button class="px-4 py-2 rounded-full border" @click="backHome()">â† æˆ»ã‚‹</button></div>
    </section>
  </main>

  <!-- å•ã„åˆã‚ã›ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div x-cloak x-show="state.showModal" x-transition.opacity class="fixed inset-0 z-50 grid place-items-center p-4" role="dialog" aria-modal="true">
    <div class="absolute inset-0 bg-black/40" @click="closeModal()"></div>
    <div class="relative w-full max-w-xl rounded-2xl glass shadow-soft border p-6 bg-white" x-ref="modal">
      <h3 class="text-xl font-bold mb-4">ãŠå•ã„åˆã‚ã› / ãŠè¦‹ç©ã‚Š</h3>
      <form @submit.prevent="submitContact">
        <div class="grid md:grid-cols-2 gap-4">
          <label class="grid gap-1 text-sm">ãŠåå‰ <input type="text" x-model="form.name" required class="px-3 py-2 rounded border" /></label>
          <label class="grid gap-1 text-sm">ä¼šç¤¾å <input type="text" x-model="form.company" class="px-3 py-2 rounded border" /></label>
          <label class="grid gap-1 text-sm md:col-span-2">ãƒ¡ãƒ¼ãƒ« <input type="email" x-model="form.email" required class="px-3 py-2 rounded border" /></label>
          <label class="grid gap-1 text-sm">é›»è©±ç•ªå· <input type="tel" x-model="form.tel" class="px-3 py-2 rounded border" /></label>
          <label class="grid gap-1 text-sm">å°å…¥äºˆå®šæ™‚æœŸ
            <select x-model="form.when" class="px-3 py-2 rounded border">
              <option>1ãƒ¶æœˆä»¥å†…</option><option>3ãƒ¶æœˆä»¥å†…</option><option>æœªå®š</option>
            </select>
          </label>
          <label class="grid gap-1 text-sm md:col-span-2">ã”ç›¸è«‡å†…å®¹
            <textarea x-model="form.body" rows="4" class="px-3 py-2 rounded border" placeholder="ä¾‹ï¼‰Photomedicellã«ã¤ã„ã¦è©³ã—ãçŸ¥ã‚ŠãŸã„â€¦"></textarea>
          </label>
        </div>
        <div class="mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
          <button type="submit" class="px-4 py-2 rounded-full bg-gradient-to-r from-[var(--accent-from)] to-[var(--accent-to)] text-white font-semibold">é€ä¿¡</button>
          <a :href="'tel:'+data.links.tel" class="px-4 py-2 rounded-full border text-sm">é›»è©±ã§å•ã„åˆã‚ã›ã‚‹ï¼ˆç™ºä¿¡ï¼‰</a>
        </div>
      </form>
      <button class="absolute top-3 right-3 text-[var(--muted)]" @click="closeModal()" aria-label="ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹">âœ•</button>
    </div>
  </div>

  <footer class="mt-16 border-t" style="border-color:var(--line)">
    <div class="container text-center text-xs text-[var(--muted)] py-8">Â© <span x-text="new Date().getFullYear()"></span> Verviii.</div>
  </footer>

  <!-- DATA -->
  <script id="data" type="application/json">
  {
    "meta": {"title":"Verviii | ãƒ—ãƒ­æ©Ÿå™¨ï¼†å°‚å£²å“","description":"æ¬¡ä¸–ä»£ã®çµæœã¨åç›ŠåŒ–ã‚’ä¸¡ç«‹ã™ã‚‹ã€ã‚µãƒ­ãƒ³å‘ã‘ãƒ—ãƒ­æ©Ÿå™¨ï¼†å°‚å£²å“ã€‚ç›´è²©ãƒ»å·¥å ´ææºã§é«˜å“è³ªã‚’é©æ­£ä¾¡æ ¼ã§ã€‚"},
    "links": {"line":"https://line.me/R/ti/p/@verviii_official","tel":"0120000000"},
    "brand": {
      "sampleLogoSquare":"https://images.unsplash.com/photo-1520975916090-3105956dac38?q=80&w=256&auto=format&fit=crop",
      "sampleLogoWord":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 240'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='0'><stop offset='0%' stop-color='%237c3aed'/><stop offset='100%' stop-color='%2306b6d4'/></linearGradient></defs><rect width='1200' height='240' fill='none'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Poppins, sans-serif' font-size='160' font-weight='900' fill='url(%23g)'>Verviii</text></svg>"
    },
    "hero": {"images":[
      "https://images.unsplash.com/photo-1556228720-195a672e8a03?q=80&w=1920&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1621784563370-1e77ee859c95?q=80&w=1920&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1556228453-efd1e2be3481?q=80&w=1920&auto=format&fit=crop"
    ]},
    "equipments":{
      "carousel":[
        "https://images.unsplash.com/photo-1581094651181-3592d9d4d39b?q=80&w=1600&auto=format&fit=crop",
        "https://images.unsplash.com/photo-1581094478761-7c74e3a73cf8?q=80&w=1600&auto=format&fit=crop",
        "https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?q=80&w=1600&auto=format&fit=crop"
      ],
      "items":[
        {"name":"Photomedicell S","price":1100000,"slug":"photomedicell"},
        {"name":"CryoCooler","price":330000,"slug":"cryocooler"},
        {"name":"SpotShot","price":220000,"slug":"spotshot"}
      ]
    },
    "exclusives":{
      "carousel":[
        "https://images.unsplash.com/photo-1611930022073-b7a4ba5fcccd?q=80&w=1600&auto=format&fit=crop",
        "https://images.unsplash.com/photo-1585238342028-4bbc9a3b0f69?q=80&w=1600&auto=format&fit=crop",
        "https://images.unsplash.com/photo-1600718372650-711a29d9e414?q=80&w=1600&auto=format&fit=crop"
      ],
      "items":[
        {"name":"DermaSerum A+","features":"ãƒ¬ãƒãƒãƒ¼ãƒ«* ãƒã‚¤ãƒ«ãƒ‰è¨­è¨ˆ","url":"#"},
        {"name":"HydroBoost ãƒˆãƒŠãƒ¼","features":"ä½åˆºæ¿€Ã—é«˜ä¿æ¹¿","url":"#"}
      ]
    },
    "device":{
      "meta":{"title":"Photomedicell | ç¾å®¹æ©Ÿå™¨è©³ç´°","description":"ä½åˆºæ¿€ãƒ»é«˜é€Ÿãƒ»é«˜å‡ºåŠ›ã€‚çµæœã¨å›è»¢ç‡ã‚’ä¸¡ç«‹ã™ã‚‹æ¬¡ä¸–ä»£IPL/SHRãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã€‚"},
      "brand":{"logo":"https://images.unsplash.com/photo-1557683316-973673baf926?q=80&w=256&auto=format&fit=crop"},
      "hero":{"images":[
        "https://images.unsplash.com/photo-1556228720-195a672e8a03?q=80&w=1920&auto=format&fit=crop",
        "https://images.unsplash.com/photo-1621784563370-1e77ee859c95?q=80&w=1920&auto=format&fit=crop"
      ]},
      "products":[
        {"name":"ãƒãƒ³ãƒ‰ãƒ”ãƒ¼ã‚¹ A","tag":"é«˜é€Ÿé€£å°„ SHR","price":220000,"image":"https://images.unsplash.com/photo-1581094651181-3592d9d4d39b?q=80&w=800&auto=format&fit=crop"},
        {"name":"ãƒãƒ³ãƒ‰ãƒ”ãƒ¼ã‚¹ B","tag":"é«˜å‡ºåŠ› IPL","price":198000,"image":"https://images.unsplash.com/photo-1581094478761-7c74e3a73cf8?q=80&w=800&auto=format&fit=crop"},
        {"name":"å†·å´ãƒ¦ãƒ‹ãƒƒãƒˆ","tag":"-5â„ƒ æ¥è§¦å†·å´","price":132000,"image":"https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?q=80&w=800&auto=format&fit=crop"},
        {"name":"ä¿å®ˆãƒ—ãƒ©ãƒ³","tag":"å¹´æ¬¡ç‚¹æ¤œï¼‹ä»£æ›¿æ©Ÿ","price":88000,"image":"https://images.unsplash.com/photo-1581094651181-3592d9d4d39b?q=80&w=800&auto=format&fit=crop"}
      ],
      "reasons":{
        "headerImage":"https://images.unsplash.com/photo-1542751371-adc38448a05e?q=80&w=1920&auto=format&fit=crop",
        "items":[
          {"title":"å·¥å ´ææº Ã— ç›´è²©","body":"ä¸­é–“ãƒãƒ¼ã‚¸ãƒ³ã‚’æ¥µå°åŒ–ã€‚é«˜å“è³ªã‚’é©æ­£ä¾¡æ ¼ã§æä¾›ã€‚"},
          {"title":"çµæœå¿—å‘ã®è¨­è¨ˆ","body":"ä½åˆºæ¿€ãƒ»é«˜é€Ÿç…§å°„ãƒ»å®‰å®šå‡ºåŠ›ã§é¡§å®¢æº€è¶³ã¨å›è»¢ç‡ã‚’ä¸¡ç«‹ã€‚"},
          {"title":"é‹ç”¨ã¾ã§ä¸€æ°—é€šè²«","body":"å°å…¥ç ”ä¿®ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­è¨ˆã€é›†å®¢å°ç·šã€åº—è²©ã¾ã§ã‚µãƒãƒ¼ãƒˆã€‚"}
        ]
      },
      "sales":{ "labels":["1æœˆ","2æœˆ","3æœˆ","4æœˆ","5æœˆ","6æœˆ"], "revenue":[120,150,180,220,260,310] },
      "records":[
        {"company":"Salon A","role":"ä»£è¡¨","comment":"å°å…¥3ãƒ¶æœˆã§å£²ä¸Š+60%ã€‚å†·å´ã®åŠ¹ããŒè‰¯ãæº€è¶³åº¦ãŒé«˜ã„ã€‚","image":"https://images.unsplash.com/photo-1553531888-0037c2babc69?q=80&w=200&auto=format&fit=crop"},
        {"company":"Clinic B","role":"é™¢é•·","comment":"é€£å°„ã‚¹ãƒ”ãƒ¼ãƒ‰ã§å›è»¢ç‡æ”¹å–„ã€‚æ–½è¡“è€…ã®è² æ‹…ã‚‚è»½æ¸›ã€‚","image":"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?q=80&w=200&auto=format&fit=crop"},
        {"company":"Esthe C","role":"åº—é•·","comment":"ä¾¡æ ¼ã¨æ€§èƒ½ã®ãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ã„ã€‚ã‚µãƒãƒ¼ãƒˆã‚‚æ‰‹åšã„ã€‚","image":"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?q=80&w=200&auto=format&fit=crop"}
      ],
      "faq":[
        {"q":"åˆ†å‰²ãƒ»ãƒªãƒ¼ã‚¹ã¯å¯èƒ½ã§ã™ã‹ï¼Ÿ","a":"å¯èƒ½ã§ã™ã€‚24ã€œ60å›ã¾ã§æŸ”è»Ÿã«ã”ææ¡ˆã„ãŸã—ã¾ã™ã€‚"},
        {"q":"ä¿è¨¼ãƒ»ä¿å®ˆã¯ï¼Ÿ","a":"1å¹´ä¿è¨¼ã€‚å®šæœŸç‚¹æ¤œãƒ»ä»£æ›¿æ©Ÿæ‰‹é…ã‚’å«ã‚€ä¿å®ˆãƒ—ãƒ©ãƒ³ã‚‚ã”ç”¨æ„ã€‚"},
        {"q":"æ–½è¡“ã‚¹ãƒ”ãƒ¼ãƒ‰ã¯ï¼Ÿ","a":"æœ€å¤§10ç™º/ç§’ã®é€£å°„ã«å¯¾å¿œï¼ˆã‚µãƒ³ãƒ—ãƒ«å€¤ï¼‰ã€‚é«˜é€Ÿã§ã‚‚å®‰å®šå‡ºåŠ›ã‚’ç¶­æŒã€‚"}
      ]
    },
    "exclusive":{
      "meta":{"title":"Exclusive | å°‚å£²å“è©³ç´°","description":"è‚Œæµ¸é€ã‚’è¿½æ±‚ã—ãŸã‚µãƒ­ãƒ³å°‚å£²ãƒ©ã‚¤ãƒ³ã€‚"},
      "brand":{"logo":"https://images.unsplash.com/photo-1600718372650-711a29d9e414?q=80&w=256&auto=format&fit=crop"},
      "hero":{"images":[
        "https://images.unsplash.com/photo-1611930022073-b7a4ba5fcccd?q=80&w=1920&auto=format&fit=crop",
        "https://images.unsplash.com/photo-1585238342028-4bbc9a3b0f69?q=80&w=1920&auto=format&fit=crop"
      ]},
      "products":[
        {"name":"DermaSerum A+","desc":"ãƒ¬ãƒãƒãƒ¼ãƒ«* ãƒã‚¤ãƒ«ãƒ‰è¨­è¨ˆ","image":"https://images.unsplash.com/photo-1611930022073-b7a4ba5fcccd?q=80&w=800&auto=format&fit=crop"},
        {"name":"HydroBoost ãƒˆãƒŠãƒ¼","desc":"ä½åˆºæ¿€Ã—é«˜ä¿æ¹¿","image":"https://images.unsplash.com/photo-1585238342028-4bbc9a3b0f69?q=80&w=800&auto=format&fit=crop"},
        {"name":"UV Veil","desc":"ç™½æµ®ãã—ã«ãã„å‡¦æ–¹","image":"https://images.unsplash.com/photo-1600718372650-711a29d9e414?q=80&w=800&auto=format&fit=crop"}
      ],
      "reasons":[
        {"title":"å‡¦æ–¹ã®é€æ˜æ€§","body":"ä¸»è¦æˆåˆ†ã¨ç›®çš„ã‚’æ˜ç¤ºã€‚æ–½è¡“ã¨ã®ç›¸æ€§ã‚’ç¬¬ä¸€ã«ã€‚"},
        {"title":"é©æ­£ä¾¡æ ¼","body":"åº—è²©ãƒªãƒ”ãƒ¼ãƒˆã‚’è¦‹æ®ãˆãŸä¾¡æ ¼å¸¯ã§åˆ©ç›Šã‚’ç¢ºä¿ã€‚"},
        {"title":"å›½å†…å……å¡«","body":"å“è³ªç®¡ç†ã¨å®‰å®šä¾›çµ¦ã®ä¸¡ç«‹ã€‚"}
      ],
      "faq":[
        {"q":"å°ãƒ­ãƒƒãƒˆå¯¾å¿œã¯å¯èƒ½ï¼Ÿ","a":"å¯èƒ½ã§ã™ã€‚SKUã¨æ•°é‡ã«ã‚ˆã‚Šæ¡ä»¶ã‚’ã”æ¡ˆå†…ã—ã¾ã™ã€‚"},
        {"q":"æˆåˆ†è¡¨ã¯é–‹ç¤ºã§ãã‚‹ï¼Ÿ","a":"ä¸»è¦æˆåˆ†ãƒ»é…åˆç›®çš„ã‚’è³‡æ–™ã§ã”æç¤ºå¯èƒ½ã§ã™ã€‚"}
      ]
    },
    "commonServices":[
      {"title":"å°å…¥ç ”ä¿®","desc":"ç…§å°„æ‰‹é †ãƒ»ã‚«ã‚¦ãƒ³ã‚»ãƒªãƒ³ã‚°ãƒ»å®‰å…¨é‹ç”¨ã‚’ç¾å ´ã§ãƒ¬ã‚¯ãƒãƒ£ãƒ¼ã€‚"},
      {"title":"ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­è¨ˆ","desc":"å®¢å˜ä¾¡ã¨å›è»¢ç‡ã®ä¸¡ç«‹ã‚’æ„è­˜ã—ãŸä¾¡æ ¼ãƒ»å›æ•°è¨­è¨ˆã€‚"},
      {"title":"é›†å®¢å°ç·š","desc":"LP/LINE/åºƒå‘Šã®å°ç·šã¥ãã‚Šã¨è¨ˆæ¸¬è¨­è¨ˆã€‚"},
      {"title":"åº—è²©å¼·åŒ–","desc":"å°‚å£²å“ã®åœ¨åº«ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»ã‚¯ãƒ­ã‚¹ã‚»ãƒ«ææ¡ˆã€‚"}
    ]
  }
  </script>

  <!-- APP -->
  <script>
    function app(){
      return {
        state:{
          route:'home',
          showIntroHome:true, showIntroDevice:false, showIntroEx:false,
          showModal:false, heroIndex:0, heroIndex2:0, heroIndex3:0,
          eqIndex:0, prIndex:0, faqIndex:-1, mobileNav:false,
          revealed:false, revealDevice:false, revealExclusive:false
        },
        form:{name:'', company:'', email:'', tel:'', when:'æœªå®š', body:''},
        data: {},

        init(){
          // JSONã‚’å®‰å…¨ã«èª­ã¿è¾¼ã‚€
          try{
            const raw = document.getElementById('data')?.textContent || '{}';
            this.data = JSON.parse(raw);
          }catch(e){
            console.error('JSON parse failed. Using fallback.', e);
            this.data = { meta:{title:'Verviii'}, links:{line:'#',tel:'0000'}, brand:{sampleLogoWord:''}, hero:{images:[]} };
          }
          // x-cloakä¿é™º
          this.$nextTick(()=>{ document.querySelectorAll('[x-cloak]').forEach(el=>el.removeAttribute('x-cloak')); });

          // ã‚¤ãƒ³ãƒˆãƒ­ â†’ HERO
          setTimeout(()=>{
            this.state.showIntroHome = false;
            this.state.revealed = true;
          }, 2800);

          // ã‚¹ãƒ©ã‚¤ãƒ‰ã®è‡ªå‹•åˆ‡æ›¿
          this.cycle(()=>this.state.heroIndex, v=>this.state.heroIndex=v, this.data.hero.images.length, 4200);
          this.cycle(()=>this.state.heroIndex2, v=>this.state.heroIndex2=v, this.data.device.hero.images.length, 4200);
          this.cycle(()=>this.state.heroIndex3, v=>this.state.heroIndex3=v, this.data.exclusive.hero.images.length, 4200);
          this.cycle(()=>this.state.eqIndex, v=>this.state.eqIndex=v, this.data.equipments.carousel.length, 3000);
          this.cycle(()=>this.state.prIndex, v=>this.state.prIndex=v, this.data.exclusives.carousel.length, 3000);

          // ãƒãƒ£ãƒ¼ãƒˆæç”»
          this.$nextTick(()=>{ this.drawChart(); this.drawChart2(); });
          window.addEventListener('resize', ()=>{ this.drawChart(); this.drawChart2(); });

          // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§reveal
          const onScroll=()=>{
            const y=window.scrollY;
            if(y>60) this.state.revealed=true;
            document.querySelectorAll('.reveal').forEach(el=>{
              const r=el.getBoundingClientRect();
              if(r.top<window.innerHeight*0.9) el.classList.add('in');
            });
          };
          onScroll();
          window.addEventListener('scroll', onScroll, {passive:true});
        },

        cycle(get,set,len,ms){ if(!len||len<=1) return; return setInterval(()=> set((get()+1)%len), ms) },
        formatJPY(n){ return new Intl.NumberFormat('ja-JP',{style:'currency',currency:'JPY',maximumFractionDigits:0}).format(n) },
        scrollToId(id){ const el=document.getElementById(id); if(!el) return; const top=el.getBoundingClientRect().top + window.pageYOffset - 80; window.scrollTo({top, behavior:'smooth'}); this.state.mobileNav=false },
        openLine(){ window.open(this.data.links.line, '_blank', 'noopener') },
        openContact(){ this.state.showModal=true; this.$nextTick(()=>{ const first=this.$refs.modal?.querySelector('input,textarea,select,button'); first&&first.focus(); }) },
        closeModal(){ this.state.showModal=false; this.state.mobileNav=false },
        submitContact(){ if(!this.form.email||!this.form.name){ alert('ãŠåå‰ã¨ãƒ¡ãƒ¼ãƒ«ã¯å¿…é ˆã§ã™ã€‚'); return } alert('é€ä¿¡ã—ã¾ã—ãŸã€‚æ‹…å½“ã‚ˆã‚Šã”é€£çµ¡ã„ãŸã—ã¾ã™ã€‚'); this.state.showModal=false; this.form={name:'',company:'',email:'',tel:'',when:'æœªå®š',body:''} },

        backHome(){
          this.state.route = 'home';
          window.scrollTo({ top: 0, behavior: 'smooth' });
          this.state.revealed = false;
          this.state.showIntroHome = true;
          setTimeout(() => {
            this.state.showIntroHome = false;
            this.state.revealed = true;
          }, 2800);
        },

        goDevice(item){
          if (item.slug === 'photomedicell') {
            this.state.route = 'device';
            this.state.revealDevice = false;
            this.state.showIntroDevice = true;
            setTimeout(() => {
              this.state.showIntroDevice = false;
              this.state.revealDevice = true;
            }, 900);
            window.scrollTo({ top: 0, behavior: 'smooth' });
          } else {
            alert('è©³ç´°ãƒšãƒ¼ã‚¸æº–å‚™ä¸­ã§ã™ã€‚');
          }
        },

        goExclusive(p){
          this.state.route = 'exclusive';
          this.state.revealExclusive = false;
          this.state.showIntroEx = true;
          setTimeout(() => {
            this.state.showIntroEx = false;
            this.state.revealExclusive = true;
          }, 900);
          window.scrollTo({ top: 0, behavior: 'smooth' });
        },

        toggleFaq(i){ this.state.faqIndex = (this.state.faqIndex===i ? -1 : i) },

        drawChart(){
          const svg=this.$refs.chart; if(!svg) return;
          const W=Math.max(320, svg.parentElement.clientWidth), H=240, P=40;
          const L=this.data.device.sales.labels, V=this.data.device.sales.revenue, M=Math.max(...V)*1.2;
          svg.setAttribute('viewBox',`0 0 ${W} ${H}`); svg.innerHTML='';
          const mk=(t,a)=>{const e=document.createElementNS('http://www.w3.org/2000/svg',t); for(const k in a) e.setAttribute(k,a[k]); return e};
          svg.appendChild(mk('line',{x1:P,y1:P,x2:P,y2:H-P,stroke:'#e6eef8'}));
          svg.appendChild(mk('line',{x1:P,y1:H-P,x2:W-P,y2:H-P,stroke:'#e6eef8'}));
          const bw=(W-2*P)/V.length*.6;
          const defs=mk('defs',{}), g=mk('linearGradient',{id:'g',x1:'0',y1:'0',x2:'0',y2:'1'});
          g.appendChild(mk('stop',{offset:'0%','stop-color':'#7c3aed'}));
          g.appendChild(mk('stop',{offset:'100%','stop-color':'#06b6d4'}));
          defs.appendChild(g); svg.appendChild(defs);
          V.forEach((v,i)=>{
            const block=(W-2*P)/V.length; const x=P+block*i+(block-bw)/2;
            const h=(H-2*P)*(v/M); const y=H-P-h;
            svg.appendChild(mk('rect',{x,y,width:bw,height:h,rx:6,fill:'url(#g)'}));
            const t=mk('text',{x:x+bw/2,y:H-P+14,'text-anchor':'middle',fill:'#64748b','font-size':Math.max(10, W<420?8:10)});
            t.textContent=L[i]; svg.appendChild(t);
          });
        },

        drawChart2(){
          const svg=this.$refs.chart2; if(!svg) return;
          const W=Math.max(320, svg.parentElement.clientWidth), H=240, P=40;
          const L=['1Q','2Q','3Q','4Q'], V=[90,120,150,210]; const M=Math.max(...V)*1.2;
          svg.setAttribute('viewBox',`0 0 ${W} ${H}`); svg.innerHTML='';
          const mk=(t,a)=>{const e=document.createElementNS('http://www.w3.org/2000/svg',t); for(const k in a) e.setAttribute(k,a[k]); return e};
          svg.appendChild(mk('line',{x1:P,y1:P,x2:P,y2:H-P,stroke:'#e6eef8'}));
          svg.appendChild(mk('line',{x1:P,y1:H-P,x2:W-P,y2:H-P,stroke:'#e6eef8'}));
          const bw=(W-2*P)/V.length*.6;
          const defs=mk('defs',{}), g=mk('linearGradient',{id:'g2',x1:'0',y1:'0',x2:'0',y2:'1'});
          g.appendChild(mk('stop',{offset:'0%','stop-color':'#06b6d4'}));
          g.appendChild(mk('stop',{offset:'100%','stop-color':'#7c3aed'}));
          defs.appendChild(g); svg.appendChild(defs);
          V.forEach((v,i)=>{
            const block=(W-2*P)/V.length; const x=P+block*i+(block-bw)/2;
            const h=(H-2*P)*(v/M); const y=H-P-h;
            svg.appendChild(mk('rect',{x,y,width:bw,height:h,rx:6,fill:'url(#g2)'}));
            const t=mk('text',{x:x+bw/2,y:H-P+14,'text-anchor':'middle',fill:'#64748b','font-size':Math.max(10, W<420?8:10)});
            t.textContent=L[i]; svg.appendChild(t);
          });
        }
      }
    }
  </script>
</body>
</html>
